% Copyright 2008 by Thibauld Nion
%
% Adapted from outer themes by Till Tantau
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Public License.
%
% See the file doc/licenses/LICENSE for more details.
%
% $Id: beamerouterthemepagenumberandbackground.sty 626 2008-02-19 18:48:55Z nion $

\ProvidesPackage{beamerouterthemepagenumberandbackground}

\newif\ifbeamer@theme@totalpagenumber
\beamer@theme@totalpagenumbertrue


% declare the 'totalpagenumber' option
\DeclareOptionBeamer{totalpagenumber}[true]{\csname beamer@theme@totalpagenumber#1\endcsname}
\ProcessOptionsBeamer



\mode<presentation>

% Sets the fonts for frames' header
\setbeamertemplate{frametitle}[default][left]
\setbeamercolor{section in head/foot}{parent=palette primary}


\beamer@compresstrue

\AtBeginDocument{
  {
    \usebeamerfont*{headline}
    \colorlet{global.bg}{bg}
    \usebeamercolor{subsection in head/foot}
    \usebeamercolor{section in head/foot}
    \usebeamercolor{frametitle}

  }
}

% Head: nothing
\defbeamertemplate*{headline}{headertocbackground theme}
{}


% Background
% Set a default (void) background:
%\def\backgroundContent{ }

\defbeamertemplate*{background canvas}{headertocbackground theme}
{%
  \backgroundContent
}%


%% Footer bar
\defbeamertemplate*{footline}{headertocbackground theme}
{
  \leavevmode%
  \raisebox{1ex}{\raggedleft{%
%   \begin{beamercolorbox}[wd=.5\paperwidth,ht=2.25ex,dp=1ex,center]{author in head/foot}%
%     \usebeamerfont{author in head/foot}\insertshortauthor~~(\insertshortinstitute)
%   \end{beamercolorbox}%
%   \begin{beamercolorbox}[wd=.5\paperwidth,ht=2.25ex,dp=1ex,right]{date in head/foot}%
    \hspace*{.97\paperwidth}
    \usebeamercolor{date in head/foot}%
    \usebeamerfont{date in head/foot}{%
      \textbf{\insertframenumber{}%
        \ifbeamer@theme@totalpagenumber% 
        / \inserttotalframenumber%
        \fi}}}%
    \hspace*{2ex} 
% \end{beamercolorbox}
  }%
  \vskip0pt%
}

  
  
\mode
<all>
