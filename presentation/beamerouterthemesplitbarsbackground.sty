% Copyright 2008 by Thibauld Nion
%
% Adapted from outer themes by Till Tantau
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Public License.
%
% See the file doc/licenses/LICENSE for more details.
%
% $Id: beamerouterthemesplitbarsbackground.sty 626 2008-02-19 18:48:55Z nion $

\ProvidesPackage{beamerouterthemesplitbarsbackground}

\newif\ifbeamer@theme@totalpagenumber
\beamer@theme@totalpagenumbertrue


% declare the 'totalpagenumber' option
\DeclareOptionBeamer{totalpagenumber}[true]{\csname beamer@theme@totalpagenumber#1\endcsname}
\ProcessOptionsBeamer



\mode<presentation>

% Sets the fonts for frames' titles
\setbeamerfont{frametitle}{series=\bfseries}
\setbeamercolor{section in head/foot}{parent=palette primary}


\beamer@compresstrue

\AtBeginDocument{
  {
    \usebeamerfont*{headline}
    \colorlet{global.bg}{bg}
    \usebeamercolor{subsection in head/foot}
    \usebeamercolor{section in head/foot}
    \usebeamercolor{frametitle}

  }
}

% Head
\defbeamertemplate*{headline}{splitbarsbackground theme}
{%
  \begin{beamercolorbox}[wd=\paperwidth,ht=2.5ex,dp=4ex]{section in head/foot}%
    \insertnavigation{\paperwidth}
  \end{beamercolorbox}%
}%


% Background
% Set a default (void) background:
%\def\backgroundContent{ }

\defbeamertemplate*{background canvas}{splitbarsbackground theme}
{%
  \backgroundContent
}%

\mode<presentation>

%% Footer bar
\defbeamertemplate*{footline}{splitbarsbackground theme}
{
  \leavevmode%
  \hbox{%
  \begin{beamercolorbox}[wd=.5\paperwidth,ht=2.25ex,dp=1ex,center]{author in head/foot}%
    \usebeamerfont{author in head/foot}\insertshortauthor~~(\insertshortinstitute)
  \end{beamercolorbox}%
  \begin{beamercolorbox}[wd=.5\paperwidth,ht=2.25ex,dp=1ex,right]{date in head/foot}%
    \usebeamerfont{date in head/foot}\insertshorttitle{}\hfill%\hspace*{2em}
    \insertframenumber{} \ifbeamer@theme@totalpagenumber% 
/ \inserttotalframenumber%
\fi%
\hspace*{2ex} 
  \end{beamercolorbox}}%
  \vskip0pt%
} 
  
\mode
<all>
